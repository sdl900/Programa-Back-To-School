<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login y Register - MagtimusPro</title>
    <!-- Fuente de Google -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <!-- Estilos CSS -->
    <style>
        /* Estilos generales */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px; /* Espacio para dispositivos móviles */
        }

        .contenedor__todo {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
            box-sizing: border-box; /* Evita que el padding desborde el ancho */
        }

        .formulario h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }

        .formulario input,
        .formulario select,
        .formulario textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box; /* Asegura que el padding no afecte el ancho */
        }

        .formulario button {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        .formulario button:hover {
            background-color: #0056b3;
        }

        .perfil {
            display: none; /* Oculto por defecto */
        }

        .perfil h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }

        .perfil p {
            margin-bottom: 10px;
            font-size: 16px;
            color: #555;
        }

        .perfil button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #28a745;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        .perfil button:hover {
            background-color: #218838;
        }

        .buscar-usuario {
            margin-top: 20px;
        }

        .buscar-usuario input {
            width: calc(100% - 100px);
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }

        .buscar-usuario button {
            width: 90px;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        .buscar-usuario button:hover {
            background-color: #0056b3;
        }

        .resultado-busqueda {
            margin-top: 20px;
            padding: 10px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .cambiar-contrasena {
            margin-top: 20px;
            padding: 10px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .cambiar-contrasena h3 {
            margin-bottom: 10px;
            font-size: 18px;
            color: #333;
        }

        /* Media Queries para dispositivos móviles */
        @media (max-width: 480px) {
            body {
                padding: 10px; /* Menos padding en móviles */
            }

            .contenedor__todo {
                padding: 15px; /* Menos padding en móviles */
            }

            .formulario h2 {
                font-size: 20px; /* Tamaño de fuente más pequeño */
            }

            .formulario input,
            .formulario select,
            .formulario textarea {
                font-size: 14px; /* Tamaño de fuente más pequeño */
            }

            .formulario button {
                font-size: 14px; /* Tamaño de fuente más pequeño */
            }

            .buscar-usuario input {
                width: calc(100% - 80px); /* Ajuste para móviles */
            }

            .buscar-usuario button {
                width: 80px; /* Ajuste para móviles */
            }
        }
    </style>
</head>
<body>
    <main>
        <div class="contenedor__todo">
            <!-- Formulario de Login -->
            <form id="formLogin" class="formulario">
                <h2>Iniciar Sesión</h2>
                <input type="text" id="loginUsuario" placeholder="Correo o Usuario de Telegram" required>
                <input type="password" id="loginPassword" placeholder="Contraseña" required>
                <button type="submit">Ingresar</button>
                <p>¿No tienes una cuenta? <a href="#" id="btn__registrarse">Regístrate</a></p>
            </form>

            <!-- Formulario de Registro -->
            <form id="formRegister" class="formulario" style="display: none;">
                <h2>Regístrarse</h2>
                <input type="text" id="registerNombre" placeholder="Nombre completo" required>
                <input type="email" id="registerEmail" placeholder="Correo Electrónico" required>
                <input type="password" id="registerPassword" placeholder="Contraseña" required>
                <input type="tel" id="numero-telefono" placeholder="Código de área + Teléfono" required>
                <select id="tipo-documento" required>
                    <option value="" disabled selected>Tipo de documento</option>
                    <option value="dni">DNI</option>
                    <option value="cc">CC (Cédula de Ciudadanía)</option>
                    <option value="pasaporte">Pasaporte</option>
                    <option value="licencia">Licencia de conducir</option>
                </select>
                <input type="text" id="numero-documento" placeholder="Número de documento" required>
                <input type="text" id="fecha-nacimiento" placeholder="Fecha de nacimiento (DD/MM/AAAA)" required>
                <select id="genero" required>
                    <option value="" disabled selected>Género</option>
                    <option value="masculino">Masculino</option>
                    <option value="femenino">Femenino</option>
                    <option value="otro">Otro</option>
                </select>
                <input type="text" id="pais" placeholder="País" required>
                <select id="tipo-usuario" required>
                    <option value="" disabled selected>Selecciona tu tipo de usuario</option>
                    <option value="usuario">Usuario</option>
                    <option value="ceo">CEO</option>
                    <option value="sponsor">Sponsor</option>
                    <option value="jefe-grupo">Jefe de grupo</option>
                    <option value="lider-grupo">Líder de grupo</option>
                </select>
                <input type="text" id="registerTelegram" placeholder="Usuario de Telegram" required>
                <input type="text" id="nombre-proyecto" placeholder="Nombre del proyecto o grupo" required>
                <input type="text" id="sponsor-grupo" placeholder="Sponsor del grupo">
                <input type="text" id="jefe-grupo" placeholder="Jefe de grupo">
                <input type="text" id="lider-grupo" placeholder="Líder de grupo">
                <textarea id="sugerencias" placeholder="Cuadro de sugerencias"></textarea>
                <button type="submit">Regístrarse</button>
                <p>¿Ya tienes una cuenta? <a href="#" id="btn__iniciar-sesion">Inicia Sesión</a></p>
            </form>

            <!-- Campo de búsqueda debajo del inicio de sesión -->
            <div class="buscar-usuario">
                <input type="text" id="buscarUsuario" placeholder="Buscar por correo, nombre o Telegram">
                <button id="btnBuscarUsuario">Buscar</button>
            </div>

            <!-- Resultado de la búsqueda -->
            <div id="resultadoBusqueda" class="resultado-busqueda">
                <!-- Aquí se mostrará la información del usuario buscado -->
            </div>

            <!-- Perfil del Usuario -->
            <div id="perfil" class="perfil">
                <h2>Mi Perfil</h2>
                <p><strong>Nombre:</strong> <span id="perfilNombre"></span></p>
                <p><strong>Correo:</strong> <span id="perfilEmail"></span></p>
                <p><strong>Teléfono:</strong> <span id="perfilTelefono"></span></p>
                <p><strong>Tipo de Documento:</strong> <span id="perfilTipoDocumento"></span></p>
                <p><strong>Número de Documento:</strong> <span id="perfilNumeroDocumento"></span></p>
                <p><strong>Fecha de Nacimiento:</strong> <span id="perfilFechaNacimiento"></span></p>
                <p><strong>Género:</strong> <span id="perfilGenero"></span></p>
                <p><strong>País:</strong> <span id="perfilPais"></span></p>
                <p><strong>Tipo de Usuario:</strong> <span id="perfilTipoUsuario"></span></p>
                <p><strong>Usuario de Telegram:</strong> <span id="perfilTelegram"></span></p>
                <p><strong>Nombre del Proyecto:</strong> <span id="perfilNombreProyecto"></span></p>
                <p><strong>Sponsor del Grupo:</strong> <span id="perfilSponsorGrupo"></span></p>
                <p><strong>Jefe de Grupo:</strong> <span id="perfilJefeGrupo"></span></p>
                <p><strong>Líder de Grupo:</strong> <span id="perfilLiderGrupo"></span></p>
                <p><strong>Sugerencias:</strong> <span id="perfilSugerencias"></span></p>

                <!-- Formulario para cambiar contraseña -->
                <div class="cambiar-contrasena">
                    <h3>Cambiar Contraseña</h3>
                    <input type="password" id="contrasenaActual" placeholder="Contraseña actual" required>
                    <input type="password" id="nuevaContrasena" placeholder="Nueva contraseña" required>
                    <button id="btnCambiarContrasena">Cambiar Contraseña</button>
                </div>

                <button id="btnEditarPerfil">Editar Perfil</button>
                <button id="btnCerrarSesion">Cerrar Sesión</button>
            </div>
        </div>
    </main>

    <!-- Script JS -->
    <script>
        // Datos simulados (en un caso real, esto se haría en el backend)
        let usuariosRegistrados = JSON.parse(localStorage.getItem('usuarios')) || [];

        // Alternar entre Login y Register
        document.getElementById('btn__registrarse').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('formLogin').style.display = 'none';
            document.getElementById('formRegister').style.display = 'block';
        });

        document.getElementById('btn__iniciar-sesion').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('formLogin').style.display = 'block';
            document.getElementById('formRegister').style.display = 'none';
        });

        // Registro de usuario
        document.getElementById('formRegister').addEventListener('submit', function(e) {
            e.preventDefault();
            const usuario = {
                nombre: document.getElementById('registerNombre').value,
                email: document.getElementById('registerEmail').value,
                password: document.getElementById('registerPassword').value,
                telefono: document.getElementById('numero-telefono').value,
                tipoDocumento: document.getElementById('tipo-documento').value,
                numeroDocumento: document.getElementById('numero-documento').value,
                fechaNacimiento: document.getElementById('fecha-nacimiento').value,
                genero: document.getElementById('genero').value,
                pais: document.getElementById('pais').value,
                tipoUsuario: document.getElementById('tipo-usuario').value,
                telegram: document.getElementById('registerTelegram').value,
                nombreProyecto: document.getElementById('nombre-proyecto').value,
                sponsorGrupo: document.getElementById('sponsor-grupo').value,
                jefeGrupo: document.getElementById('jefe-grupo').value,
                liderGrupo: document.getElementById('lider-grupo').value,
                sugerencias: document.getElementById('sugerencias').value
            };

            // Guardar el usuario en localStorage
            usuariosRegistrados.push(usuario);
            localStorage.setItem('usuarios', JSON.stringify(usuariosRegistrados));

            alert("Registro exitoso. Ahora puedes iniciar sesión.");
            document.getElementById('formRegister').style.display = 'none';
            document.getElementById('formLogin').style.display = 'block';
        });

        // Inicio de sesión
        document.getElementById('formLogin').addEventListener('submit', function(e) {
            e.preventDefault();
            const usuario = document.getElementById('loginUsuario').value;
            const contraseña = document.getElementById('loginPassword').value;

            // Buscar el usuario en los registros
            const usuarioEncontrado = usuariosRegistrados.find(u => u.email === usuario || u.telegram === usuario);

            if (usuarioEncontrado && usuarioEncontrado.password === contraseña) {
                document.getElementById('formLogin').style.display = 'none';
                document.getElementById('perfil').style.display = 'block';
                mostrarDatosPerfil(usuarioEncontrado);
            } else {
                alert("Usuario o contraseña incorrectos.");
            }
        });

        // Buscar usuario
        document.getElementById('btnBuscarUsuario').addEventListener('click', function() {
            const buscar = document.getElementById('buscarUsuario').value.toLowerCase();
            const usuarioEncontrado = usuariosRegistrados.find(u =>
                u.nombre.toLowerCase().includes(buscar) ||
                u.email.toLowerCase().includes(buscar) ||
                u.telegram.toLowerCase().includes(buscar)
            );

            const resultadoBusqueda = document.getElementById('resultadoBusqueda');
            if (usuarioEncontrado) {
                resultadoBusqueda.innerHTML = `
                    <p><strong>Nombre:</strong> ${usuarioEncontrado.nombre}</p>
                    <p><strong>Correo:</strong> ${usuarioEncontrado.email}</p>
                    <p><strong>Teléfono:</strong> ${usuarioEncontrado.telefono}</p>
                    <p><strong>Tipo de Documento:</strong> ${usuarioEncontrado.tipoDocumento}</p>
                    <p><strong>Número de Documento:</strong> ${usuarioEncontrado.numeroDocumento}</p>
                    <p><strong>Fecha de Nacimiento:</strong> ${usuarioEncontrado.fechaNacimiento}</p>
                    <p><strong>Género:</strong> ${usuarioEncontrado.genero}</p>
                    <p><strong>País:</strong> ${usuarioEncontrado.pais}</p>
                    <p><strong>Tipo de Usuario:</strong> ${usuarioEncontrado.tipoUsuario}</p>
                    <p><strong>Usuario de Telegram:</strong> ${usuarioEncontrado.telegram}</p>
                    <p><strong>Nombre del Proyecto:</strong> ${usuarioEncontrado.nombreProyecto}</p>
                    <p><strong>Sponsor del Grupo:</strong> ${usuarioEncontrado.sponsorGrupo}</p>
                    <p><strong>Jefe de Grupo:</strong> ${usuarioEncontrado.jefeGrupo}</p>
                    <p><strong>Líder de Grupo:</strong> ${usuarioEncontrado.liderGrupo}</p>
                    <p><strong>Sugerencias:</strong> ${usuarioEncontrado.sugerencias}</p>
                `;
            } else {
                resultadoBusqueda.innerHTML = `<p>No existe</p>`;
            }
        });

        // Cambiar contraseña
        document.getElementById('btnCambiarContrasena').addEventListener('click', function() {
            const contrasenaActual = document.getElementById('contrasenaActual').value;
            const nuevaContrasena = document.getElementById('nuevaContrasena').value;

            // Buscar al usuario actual
            const usuarioActual = usuariosRegistrados.find(u => u.email === document.getElementById('perfilEmail').textContent);

            if (usuarioActual && usuarioActual.password === contrasenaActual) {
                // Actualizar la contraseña
                usuarioActual.password = nuevaContrasena;
                localStorage.setItem('usuarios', JSON.stringify(usuariosRegistrados));
                alert("Contraseña cambiada correctamente.");
            } else {
                alert("Contraseña actual incorrecta.");
            }
        });

        // Mostrar datos del perfil
        function mostrarDatosPerfil(usuario) {
            document.getElementById('perfilNombre').textContent = usuario.nombre;
            document.getElementById('perfilEmail').textContent = usuario.email;
            document.getElementById('perfilTelefono').textContent = usuario.telefono;
            document.getElementById('perfilTipoDocumento').textContent = usuario.tipoDocumento;
            document.getElementById('perfilNumeroDocumento').textContent = usuario.numeroDocumento;
            document.getElementById('perfilFechaNacimiento').textContent = usuario.fechaNacimiento;
            document.getElementById('perfilGenero').textContent = usuario.genero;
            document.getElementById('perfilPais').textContent = usuario.pais;
            document.getElementById('perfilTipoUsuario').textContent = usuario.tipoUsuario;
            document.getElementById('perfilTelegram').textContent = usuario.telegram;
            document.getElementById('perfilNombreProyecto').textContent = usuario.nombreProyecto;
            document.getElementById('perfilSponsorGrupo').textContent = usuario.sponsorGrupo;
            document.getElementById('perfilJefeGrupo').textContent = usuario.jefeGrupo;
            document.getElementById('perfilLiderGrupo').textContent = usuario.liderGrupo;
            document.getElementById('perfilSugerencias').textContent = usuario.sugerencias;
        }

        // Cerrar sesión
        document.getElementById('btnCerrarSesion').addEventListener('click', function() {
            document.getElementById('perfil').style.display = 'none';
            document.getElementById('formLogin').style.display = 'block';
        });

        // Editar perfil (simulación)
        document.getElementById('btnEditarPerfil').addEventListener('click', function() {
            const nuevoNombre = prompt("Ingresa tu nuevo nombre:");
            if (nuevoNombre) {
                document.getElementById('perfilNombre').textContent = nuevoNombre;
                alert("Nombre actualizado correctamente.");
            }
        });
    </script>
</body>
</html>
